# Validate workspace hostname
{{ define `validation` }}
    - Validate cicd platform
    {{ if and (eq .input_cloud `aws`) (eq .input_cicd_platform `azure_devops`) -}}
        {{ fail `Azure DevOps is not supported as a cicd_platform option with cloud=aws. If cloud=aws the currently supported cicd_platform is GitHub Actions.` }}
    {{- end -}}

    - Validate feature store and recipes
    {{- if and (eq .input_include_feature_store `yes`) (eq .input_include_mlflow_recipes `yes`) -}}
        {{ fail `Feature Store cannot be used with MLflow recipes. Please only use one of the two or neither.` }}
    {{- end -}}

    - Validate feature store and recipes
    {{- if and (eq .input_include_models_in_unity_catalog `yes`) (eq .input_include_mlflow_recipes `yes`) -}}
        {{ fail `The Model Registry in Unity Catalog cannot be used with MLflow recipes. Please only use one of the two or neither.` }}
    {{- end -}}

{{- end -}}
